<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Gestion alumbrado</title>
		
	
	    <!--JQUERY-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<!-- DATA TABLE -->
		<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css">	
		<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
		<link rel="stylesheet" type="text/css" href="/form.css" th:href="@{/css/form.css}">
	</head>	
 <body>
	 <script type="text/javascript">
       $(document).ready(function() {
       $('#alumbradoList').DataTable();
      } );
    </script>
	<div class="d-flex justify-content-end form-group">
		<a type="reset"  href="/dispositivo/menu" class="btn btn-dark "> Volver al Menu</a>
	</div>
		<div class="table-responsive">
		<h2 class="titulo">Lista de alumbrado</h2>
		<div>
			<a class="btn btn-dark " href="/alumbrado/agregar/formnuevo">
			 	Agregar dispositivo
			</a>
		  </div>
			<table id="alumbradoList" class="table table-bordered table-hover table-striped">
				<thead class="thead-light">
		            <tr>
		             	<th scope="col">#</th>
		             	<th scope="col">Nombre</th>
		                <th scope="col">Cantidad de luz</th> 
		                <th scope="col">Zona</th>
		                <th scope="col">Hay personas</th>
                        <th scope="col">Modificar</th>
                        <th scope="col">Eliminar</th>
                        <th scope="col">Eventos</th>
		              </tr>
				</thead>
				<tbody>
		            <tr class= "contenidoTabla" th:each= "alumbrado: ${alumbradoList}">
		            	<th th:text="${alumbrado.id}"></th>
		            	<th th:text="${alumbrado.nombre}"></th>
		            	<th th:text="${alumbrado.cantLuz}"></th>
		                <th th:text="${alumbrado.zona}"></th>
		                <th th:text="${alumbrado.hayPersonas}"></th>
                        <th>
							<a th:href="@{/alumbrado/formalumbrado/} + ${alumbrado.id}"><img src="/img/editar.png"></a>
					   </th>
					     <th>
							<a th:href="@{/alumbrado/delete-dispositivo/} + ${alumbrado.id}"><img src="/img/eliminar.png"></a>
					   </th>
					    <th>
							<a th:href="@{/alumbrado/eventos/} + ${alumbrado.id}"> ver eventos</a>
					   </th>
		             </tr>
				</tbody>
			</table>
			<div class="alert alert-danger text-center" th:if="${listErrorMessage}" th:text="${listErrorMessage}">Error Message</div>
		</div>
	</body>	
</html>